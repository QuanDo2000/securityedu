(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(9729)}])},9729:function(e,n,r){"use strict";r.r(n);var t=r(7568),s=r(603),u=r(655),o=r(5893),a=r(7294),c=r(1903),i=r(3321),l=r(7357),d=r(6901),f=r(7376),m=r(1163),h=r(4519),p=function(){var e,n=(0,m.useRouter)(),r=(0,s.Z)(a.useState(""),2),p=r[0],x=r[1];a.useEffect(function(){(0,h.X)().then(function(e){e&&n.push("/admin")}).catch(function(e){console.log(e)})});var w=(e=(0,t.Z)(function(e){var r,t,s,o;return(0,u.__generator)(this,function(u){switch(u.label){case 0:e.preventDefault(),(r=new FormData).append("username",e.currentTarget.username.value),r.append("password",e.currentTarget.password.value),u.label=1;case 1:return u.trys.push([1,4,,5]),[4,fetch("".concat(h.z,"/auth/login"),{method:"POST",body:r,credentials:"include"})];case 2:return[4,(t=u.sent()).json()];case 3:return s=u.sent(),200===t.status?(x("Login successful"),n.push("/admin")):(x("Some error occurred"),console.log(s)),[3,5];case 4:return o=u.sent(),x("Some error occurred"),console.log(o),[3,5];case 5:return[2]}})}),function(n){return e.apply(this,arguments)});return(0,o.jsx)(f.Z,{children:(0,o.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)("h2",{children:"Admin Login"}),""!==p&&(0,o.jsx)(d.Z,{severity:"info",sx:{mb:"1rem"},children:p}),(0,o.jsxs)(l.Z,{component:"form",onSubmit:w,noValidate:!0,sx:{mt:1},children:[(0,o.jsx)(c.Z,{required:!0,id:"username",autoComplete:"username",autoFocus:!0,fullWidth:!0,label:"Username",sx:{mb:"1rem"}}),(0,o.jsx)(c.Z,{required:!0,fullWidth:!0,id:"password",type:"password",autoComplete:"current-password",label:"Password",sx:{mb:"1rem"}}),(0,o.jsx)(i.Z,{type:"submit",fullWidth:!0,variant:"contained",children:"Login"})]})]})})};n.default=p}},function(e){e.O(0,[767,113,141,859,569,96,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);